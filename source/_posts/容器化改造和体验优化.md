---
title: 容器化改造和体验优化
date: 2025-07-28 07:57:05
---

## 新功能说明

### 1. 标题生成流程优化

#### "不做标题重命名"选项
- **默认状态**: 选中
- **功能**: 选中后不进行标题重命名，只生成字幕文件
- **优势**: 
  - 提高处理效率
  - 减少存储空间占用
  - 专注于字幕生成功能

#### 使用方式
1. 在"文件名配置"步骤中，默认选中"不做标题重命名"
2. 如需标题重命名功能，请取消勾选该选项
3. 取消勾选后，可以配置标题生成相关参数

### 2. Docker化部署

#### 新的部署方式
```bash
# 构建并启动服务
docker-compose -f docker-compose.gpu.yml up --build

# 后台运行
docker-compose -f docker-compose.gpu.yml up -d --build
```

#### 优势
- 使用Python基础镜像，启动更快
- 简化依赖管理
- 更好的跨平台兼容性

### 3. 默认模型配置

#### DeepSeek Chat模型
- **默认模型**: DeepSeek Chat
- **优势**:
    - 中文处理能力强
    - 价格便宜

主要目的是避免自动拉取 ollama ，流程缓慢

#### 模型切换
如需使用其他模型，可在配置中手动选择：
- Ollama本地模型
- OpenAI模型
- 其他DeepSeek模型

## 功能对比

| 功能 | 旧版本 | 新版本 |
|------|--------|--------|
| 标题重命名 | 默认开启 | 默认关闭 |
| 音频文件拷贝 | 总是拷贝 | 可选跳过 |
| 默认模型 | Ollama | DeepSeek Chat |
| 部署方式 | Conda环境 | Python Docker |

## 常见问题

### Q: 如何启用标题重命名功能？
A: 在"文件名配置"步骤中，取消勾选"不做标题重命名"选项。

### Q: 为什么默认不拷贝音频文件？
A: 为了节省存储空间和提高处理效率，专注于字幕生成功能。

### Q: 如何切换回Ollama模型？
A: 在模型配置中选择"Ollama"供应商即可。

### Q: 新的Docker部署有什么优势？
A: 启动更快、依赖管理更简单、跨平台兼容性更好。

## 技术细节

### 配置结构
```json
{
  "title": {
    "skip_rename": true,
    "generate": false,
    "book_title": "",
    "author": "",
    "lang": "zh-CN",
    "regex_origin": "(\\d+)",
    "rule": "{0}_{title}",
    "openai": null
  }
}
```

### 处理流程
1. 音频文件上传/选择
2. 语音转文字
3. 文本处理（纠错、翻译等）
4. 字幕文件生成
5. 音频文件拷贝（可选）
6. 标题生成（可选） 